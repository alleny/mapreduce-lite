#Build !MapReduce Lite

<font color=red>This page is under construction and not yet finished.</font>

= Introduction =

!MapReduce Lite can be built and run on Linux, MacOS X and Cygwin.

= Dependencies =

  * [http://www.cmake.org/ CMake] is used to manage and build the project.
  * [http://code.google.com/p/protobuf/ Google Protocol Buffers] is used for inter-worker communication and disk storage.
  * [http://code.google.com/p/google-gflags/ GFlags] is used to parse command line options.
  * [http://code.google.com/p/googletest/ Google Test] is used to write and run unit tests.
  * [http://www.boost.org/ Boost] helps developing multi-threading in asynchronous inter-worker communication and provides cross-platform filesystem support.

= Details =

== Install GCC ==
    # On Cygwin, run `setup.exe` and select `gcc` and `binutils`
    # On Debian/Ubuntu Linux
{{{
sudo apt-get install gcc binutils
}}}
    # On Mac OS X, install XCode

== Install CMake ==
    It is OK to install CMake in from binary package.
    # For Cygwin, run `setup.exe` and select `cmake`
    # For Debian/Ubuntu Linux
{{{
sudo apt-get install cmake
}}}
    # For Mac OS X, if you have [http://mxcl.github.com/homebrew/ Howebew], you can run
{{{
brew install cmake
}}}
    or if you have [http://www.macports.org/ MacPorts], run
{{{
sudo port install cmake
}}}
    If you have neither Homebrew nor !MacPorts, you are recommended to install Homebrew: (Homebrew depends on Ruby, which should have been installed with XCode.)
{{{
ruby -e "$(curl -fsSL https://raw.github.com/gist/323731)"
}}}
    If you have both Homebrew and !MacPorts, you are not lucky -- you definitely want to uninstall one of them, and I do not know how to do that cleanly.


== Install Protobuf ==
    # Download source code package (I am using `protobuf-2.3.0.tar.bz2`) from http://code.google.com/p/protobuf
    # Unpack the source code anywhere (e.g., `./protobuf-2.3.0`)
    # You need to install protobuf into the standard path, e.g., `/usr/local`, because we need CMake be able to find the protobuf compiler:
{{{
cd protobuf-2.3.0
./configure
make && make install
}}}

== Install GFlags ==
    # Download the source code package (e.g., `gflags-1.4.tar.gz`) from http://code.google.com/p/google-gflags/
    # Unpack the source code anywhere (e.g., `./gflags-1.4`)
    # You are free to install gflags anywhere (e.g., `/home/you/3rd-party/gflags`):
{{{
cd gflags-1.4
./configure --prefix=/home/you/3rd-party/gflags-1.4
make && make install
ln -s /home/you/3rd-party/gflags-1.4 /home/you/3rd-party/gflags
}}}

== Install !GoogleTest ==

    # Download the source code package (e.g., `gtest-1.5.0.tar.bz2`) from http://code.google.com/p/googletest/.
    # Unpack the source code anywhere (e.g., `./gtest-1.5.0`)
    # You are free to install gflags anywhere (e.g., `/home/you/3rd-party/gtest`):
{{{
cd gtest-1.5.0
./configure --prefix=/home/you/3rd-party/gtest-1.5.0
make && make install
ln -s /home/you/3rd-party/gtest-1.5.0 /home/you/3rd-party/gtest
}}}


== Install Boost ==
    We need a recent version of Boost.  Download the source package from http://www.boost.org/users/download/, and
{{{
tar xjf boost_1_44_1.tar.bz2
cd boost_1_44_1
./bootstrap --prefix=/home/you/3rd-party/boost-1.44
./bjam install
ln -s /home/you/3rd-party/boost-1.44 /home/you/3rd-party/boost
}}}